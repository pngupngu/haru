parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function c(a){return a&&a.__esModule?{d:a.default}:{d:a}}var La,_a;const cb="*";const k=Symbol();var Ib;(function($){$[$.U8=0]="U8",$[$.U8C=1]="U8C",$[$.I8=2]="I8",$[$.U16=3]="U16",$[$.I16=4]="I16",$[$.U32=5]="U32",$[$.I32=6]="I32",$[$.F32=7]="F32",$[$.F64=8]="F64"})(Ib||(La=Ib={},La));var Xa;(function($){$[$.FINE=0]="FINE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.SEVERE=4]="SEVERE",$[$.NONE=5]="NONE"})(Xa||(_a=Xa={},_a));const ka=(e,t={})=>{const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function i(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let p of r)Object.defineProperty(i,p,{value:t[p],enumerable:t.propertyIsEnumerable(p)});return Object.defineProperty(i,Symbol.hasInstance,{value:e=>!!e[n]}),i};class bb extends Error{constructor(r){super("illegal argument(s)"+(void 0!==r?": "+r:""))}}const I=r=>{throw new bb(r)};class db extends Error{constructor(r){super(`illegal arity: ${r}`)}}const y=r=>{throw new db(r)};class jb extends Error{constructor(t){super("illegal state"+(void 0!==t?": "+t:""))}}const lb=t=>{throw new jb(t)};const ca=(e,t)=>{if(e)for(let i,r=0,s=e.length;r<s;r++)if((i=e[r])[0].call(i[1],t),t.canceled)return};const Ka=ka({addListener(e,t,i){let r=(this._listeners=this._listeners||{})[e];return r||(r=this._listeners[e]=[]),-1===this.__listener(r,t,i)&&(r.push([t,i]),!0)},removeListener(e,t,i){if(!this._listeners)return!1;const r=this._listeners[e];if(r){const e=this.__listener(r,t,i);if(-1!==e)return r.splice(e,1),!0}return!1},notify(e){this._listeners&&(void 0===e.target&&(e.target=this),ca(this._listeners[e.id],e),ca(this._listeners[cb],e))},__listener(e,t,i){let r=e.length;for(;--r>=0;){const s=e[r];if(s[0]===t&&s[1]===i)break}return r}});const Ta=ka({addWatch(t,e){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=e,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,e){if(!this._watches)return;const i=this._watches;for(let h in i)i[h](h,t,e)}});let H,G;const Y=Object.getPrototypeOf({}),j=(e,t)=>{let $;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=($=Object.getPrototypeOf(e))&&$!==Y||null!=($=Object.getPrototypeOf(t))&&$!==Y?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?V(e,t):e instanceof Set&&t instanceof Set?P(e,t):e instanceof Map&&t instanceof Map?N(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:ga(e,t)))};const V=(e,t,$=j)=>{let o=e.length;if(o===t.length)for(;--o>=0&&$(e[o],t[o]););return o<0};const P=(e,t,$=j)=>e.size===t.size&&$([...e.keys()].sort(),[...t.keys()].sort());const N=(e,t,$=j)=>e.size===t.size&&$([...e].sort(),[...t].sort());const ga=(e,t,$=j)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(!t.hasOwnProperty(o)||!$(e[o],t[o]))return!1;return!0};let ob=[],sb=[];const Ab=r=>H&&H.length>=r?H:H=new Int32Array(r),Eb=r=>G&&G.length>=r?G:G=new Int32Array(r),ea=(r,$,e,a,t)=>{const c=$.length,l=r.linear;if(r.distance=c,0!==t){for(let r=0,e=0;r<c;r++,e+=3)l[e]=a,l[e+1]=r,l[e+2]=$[r];if(3===t){const a=r[e];for(let r=0;r<c;r++)a[r]=$[r]}}return r},Kb=(r,$,e=3,a=j)=>{const t={distance:0,adds:{},dels:{},const:{},linear:[]};if(r===$||null==r&&null==$)return t;if(null==r||0===r.length)return ea(t,$,"adds",1,e);if(null==$||0===$.length)return ea(t,r,"dels",-1,e);const c=r.length>=$.length;let l,n,h,s;c?(l=$,n=r):(l=r,n=$),h=l.length,s=n.length;const d=h+1,o=s-h,i=o+d,J=h+s+3,f=Eb(J).fill(-1,0,J),v=Ab(J).fill(-1,0,J),u=ob,P=sb;u.length=0,P.length=0;const g=(r,$,e)=>{const t=r+d;let c,o;$>e?(c=f[t-1],o=$):(c=f[t+1],o=e);let i=o-r;for(;i<h&&o<s&&a(l[i],n[o]);)i++,o++;return f[t]=P.length/3,P.push(i,o,c),o};let p,_,F=-1;do{for(_=(p=-++F)+d;p<o;p++,_++)v[_]=g(p,v[_-1]+1,v[_+1]);for(_=(p=o+F)+d;p>o;p--,_--)v[_]=g(p,v[_-1]+1,v[_+1]);v[i]=g(o,v[i-1]+1,v[i+1])}while(v[i]!==s);if(t.distance=o+2*F,0!==e){for(F=3*f[i];F>=0;)u.push(F),F=3*P[F+2];3===e?Sb(u,P,t,l,n,c):qc(u,P,t,l,n,c,1===e)}return t};const Sb=(r,$,e,a,t,c)=>{const l=e.linear,n=e.const;let h,s,d,o,i=r.length,J=0,f=0;for(c?(h=e.dels,s=e.adds,d=-1,o=1):(h=e.adds,s=e.dels,d=1,o=-1);--i>=0;){const e=r[i],c=$[e],v=$[e+1],u=v-c;for(;J<c||f<v;){const r=f-J;u>r?(l.push(d,f,h[f]=t[f]),f++):u<r?(l.push(o,J,s[J]=a[J]),J++):(l.push(0,J,n[J]=a[J]),J++,f++)}}},qc=(r,$,e,a,t,c,l)=>{const n=e.linear,h=c?-1:1,s=c?1:-1;let d=r.length,o=0,i=0;for(;--d>=0;){const e=r[d],c=$[e],J=$[e+1],f=J-c;for(;o<c||i<J;){const r=i-o;f>r?(n.push(h,i,t[i]),i++):f<r?(n.push(s,o,a[o]),o++):(l&&n.push(0,o,a[o]),o++,i++)}}};const ua=(t,e,$=3,i=j)=>t===e?{distance:0}:0===$?Ba(t,e,i):Ga(t,e,i);const Ba=(t,e,$)=>{let i=0;for(let r in t){const f=e[r];(void 0===f||!$(t[r],f))&&i++}for(let r in e)!(r in t)&&i++;return{distance:i}},Ga=(t,e,$)=>{let i=0;const r=[],f=[],s=[];for(let n in t){const r=e[n];void 0===r?(f.push(n),i++):$(t[n],r)||(s.push(n,r),i++)}for(let n in e)n in t||(r.push(n),i++);return{distance:i,adds:r,dels:f,edits:s}};const w=Array.isArray,Qa=Math.max,da=(()=>{const e=new Array(2048);for(let t=2,r=e.length;t<r;t++)e[t]=t-2;return e})(),Wa=e=>{if(e<=da.length)return da.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},aa=(e,t,r,$,i,o=0)=>{const n=i[1];if(n.__skip)return;if(!1===n.__diff)return m($),void t.replaceChild(e,r,o,i);let a=n.__impl;if(a&&a!==t)return a.diffTree(e,a,r,$,i,o);const f=Kb($,i,1,q);if(0===f.distance)return;const s=f.linear,h=t.getChild(r,o);let T,l,p,K,Q,v,u,c;if(0!==s[0]||$[1].key!==n.key)return m($),void t.replaceChild(e,r,o,i);if((c=$.__release)&&c!==i.__release&&m($),0!==s[3]&&(Za(t,h,$[1],i[1]),2===f.distance))return;const d=s.length,x=$.length-1,_=ab(s),g=Wa(x+1);for(T=2,l=6;l<d;T++,l+=3)if(u=s[l])if(-1===u){if(c=s[l+2],w(c)){if(void 0!==(Q=c[1].key)&&void 0!==_[Q][2])Q=(v=_[Q])[0],aa(e,t,h,$[Q],i[v[2]],g[Q]);else for(K=s[l+1],m(c),t.removeChild(h,g[K]),p=x;p>K;p--)g[p]=Qa(g[p]-1,0);}else"string"==typeof c&&t.setContent(h,"");}else if("string"==typeof(c=s[l+2]))t.setContent(h,c);else if(w(c)&&(void 0===(Q=c[1].key)||void 0===_[Q][0]))for(K=s[l+1],t.createTree(e,h,c,g[K]),p=x;p>=K;p--)g[p]++;(c=i.__init)&&c!=$.__init&&c.apply(i,[h,...i.__args])};const Za=(e,t,r,$)=>{const i=ua(r,$,3,j);e.removeAttribs(t,i.dels,r);let o,n,a,f=k;for(o=(a=i.edits).length;(o-=2)>=0;){const i=a[o];0===i.indexOf("on")&&e.removeAttribs(t,[i],r),"value"!==i?e.setAttrib(t,i,a[o+1],$):f=a[o+1]}for(o=(a=i.adds).length;--o>=0;)"value"!==(n=a[o])?e.setAttrib(t,n,$[n],$):f=$[n];f!==k&&e.setAttrib(t,"value",f,$)};const m=e=>{if(w(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)m(e[t])}};const ab=e=>{let t,r,$;const i={};for(let o=e.length;(o-=3)>=0;)r=e[o+2],w(r)&&void 0!==(t=r[1].key)&&(!($=i[t])&&(i[t]=$=[,,]),$[e[o]+1]=e[o+1]);return i},W=Object.getPrototypeOf({}),q=(e,t)=>{let r;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(r=Object.getPrototypeOf(e))&&r!==W||null!=(r=Object.getPrototypeOf(t))&&r!==W?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?V(e,t,q):e instanceof Set&&t instanceof Set?P(e,t,q):e instanceof Map&&t instanceof Map?N(e,t,q):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&ga(e,t,q)))};const C=o=>"function"==typeof o;const F=(n,t)=>null!=n&&"function"==typeof n[t];const f=Array.isArray;const kb=t=>null!=t&&"function"!=typeof t&&void 0!==t.length;const Q=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const U=Object.getPrototypeOf,pb=$=>{let t;return null!=$&&"object"==typeof $&&(null===(t=U($))||null===U(t))};const qb=s=>s instanceof Promise;const l=t=>"string"==typeof t;const tb="http://www.w3.org/2000/svg";const vb=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const zb="animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view".split(" ").reduce((e,t)=>(e[t]=1,e),{});const tc="area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml".split(" ").reduce((e,t)=>(e[t]=1,e),{});const Cb={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const Db={button:1,option:1,text:1,textarea:1};const sc=new RegExp(`[${Object.keys(Cb)}]`,"g");const Fb=t=>{let $,r="";for(let e in t)$=t[e],C($)&&($=$(t)),null!=$&&(r+=`${e}:${$};`);return r};const Hb=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];F(e,"deref")&&(r[n]=e.deref())}return r};const x=f,S=Q,v=(e,t,r,s,n)=>{if(x(s)){const $=s[0];if("function"==typeof $)return v(e,t,r,$.apply(null,[e.ctx,...s.slice(1)]),n);const o=s[1];if(o.__impl)return o.__impl.createTree(e,r,s,n);const i=t.createElement(r,$,o,n);if(s.length>2){const r=s.length;for(let n=2;n<r;n++)v(e,t,i,s[n])}return s.__init&&s.__init.apply(s.__this,[i,...s.__args]),i}if(S(s)){const n=[];for(let $ of s)n.push(v(e,t,r,$));return n}return null==s?r:t.createTextElement(r,s)};const u=(e,t,r,s,n=0)=>{if(x(s)){const $=t.getChild(r,n);"function"==typeof s[0]&&u(e,t,r,s[0].apply(null,[e.ctx,...s.slice(1)]),n);const o=s[1];if(o.__impl)return o.__impl.hydrateTree(e,r,s,n);s.__init&&s.__init.apply(s.__this,[$,...s.__args]);for(let e in o)0===e.indexOf("on")&&t.setAttrib($,e,o[e]);for(let r=s.length,n=2;n<r;n++)u(e,t,$,s[n],n-2)}else if(S(s))for(let $ of s)u(e,t,r,$,n),n++};const oa=(e,t,r,s)=>{const n=zb[t]?document.createElementNS(tb,t):document.createElement(t);return e&&(null==s?e.appendChild(n):e.insertBefore(n,e.children[s])),r&&ta(n,r),n};const pa=(e,t,r)=>{const s=document.createTextNode(t);return e&&(void 0===r?e.appendChild(s):e.insertBefore(s,e.children[r])),s};const qa=(e,t)=>e.children[t];const ra=(e,t,r,s,n)=>(t.removeChild(r,s),t.createTree(e,r,n,s));const sa=(e,t)=>e.textContent=t;const ta=(e,t)=>{for(let r in t)ba(e,r,t[r],t);return e};const ba=(e,t,r,s)=>{if(t.startsWith("__"))return;const n=0===t.indexOf("on");if(n||"function"!=typeof r||(r=r(s)),void 0!==r&&!1!==r)switch(t){case"style":xa(e,r);break;case"value":va(e,r);break;case"id":case"checked":case"scrollTop":case"scrollLeft":e[t]=r;break;default:n?ya(e,t.substr(2),r):e.setAttribute(t,r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const va=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const s=t.length-(r.length-e.selectionStart);e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t;}};const wa=(e,t,r)=>{for(let s=t.length;--s>=0;){const n=t[s];0===n.indexOf("on")?za(e,n.substr(2),r[n]):e.hasAttribute(n)?e.removeAttribute(n):e[n]=null}};const xa=(e,t)=>(e.setAttribute("style",Fb(t)),e);const ya=(e,t,r)=>{x(r)?e.addEventListener(t,...r):e.addEventListener(t,r)};const za=(e,t,r)=>{x(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r)};const Aa=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const p=f,Ca=Q,Da=pb,Ea=(e,r)=>{let $,i,t,n,a=e[0],o=Da(e[1]);return"string"==typeof a&&($=vb.exec(a))||I(`${a} is not a valid tag name`),a!==$[1]||!o||r&&!e[1].key?(n=o?Object.assign({},e[1]):{},i=$[2],t=$[3],i&&(n.id=i),t&&(t=t.replace(/\./g," "),n.class?n.class+=" "+t:n.class=t),n.__skip&&e.length<3?[$[1],n,""]:[$[1],n,...e.slice(o?2:1)]):e};const Fa=(e,r)=>d(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const d=(e,r,$,i,t,n)=>{if(null!=e){if(p(e)){if(0===e.length)return;let a,o,l=e[1];if(l&&(o=l.__impl)&&(o=o.normalizeTree))return o(r,e);const s=e[0];if("function"==typeof s)return d(s.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof s.render){const o=[$,...e.slice(1)];return a=d(s.render.apply(s,o),r,$,i,t,n),p(a)&&(a.__this=s,a.__init=s.init,a.__release=s.release,a.__args=o),a}if(!1===(l=(a=Ea(e,t))[1]).__normalize)return a;if(t&&void 0===l.key&&(l.key=i.join("-")),a.length>2){const e=a[0],o=[e,l];n=n&&!Db[e];for(let l=2,s=2,x=0,c=a.length;l<c;l++){let e=a[l];if(null!=e){const a=p(e);if(a&&p(e[0])||!a&&Ca(e))for(let l of e)void 0!==(l=d(l,r,$,i.concat(x),t,n))&&(o[s++]=l),x++;else void 0!==(e=d(e,r,$,i.concat(x),t,n))&&(o[s++]=e),x++}}return o}return a}return"function"==typeof e?d(e($),r,$,i,t,n):"function"==typeof e.toHiccup?d(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?d(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}};const Ha={createTree(e,t,r,$){return v(e,this,t,r,$)},hydrateTree(e,t,r,$){return u(e,this,t,r,$)},diffTree(e,t,r,$,i){aa(e,this,t,r,$,i)},normalizeTree:Fa,getElementById:e=>document.getElementById(e),getChild:qa,createElement:oa,createTextElement:pa,replaceChild(e,t,r,$){ra(e,this,t,r,$)},removeChild:Aa,setContent:sa,removeAttribs:wa,setAttrib:ba};const Ia=(e,o)=>l(e)?o.getElementById(e):e;const Ja=(e,r={},t=Ha)=>{const a=Object.assign({root:"app"},r);let $=[],o=!0;const i=Ia(a.root,t),f=()=>{if(o){a.ctx=Hb(r.ctx,a.autoDerefKeys);const s=t.normalizeTree(a,e);null!=s&&(a.hydrate?(t.hydrateTree(a,i,s),a.hydrate=!1):t.diffTree(a,i,$,s),$=s),o&&requestAnimationFrame(f)}};return requestAnimationFrame(f),()=>o=!1};const i="--set-value";const rc="--update-value";const Ma="--toggle-value";const Na="--cancel";const Oa="--dispatch";const Pa="--dispatch-async";const ma="--dispatch-now";const Ra="--delay";const Sa="--fetch";const M="--state";const Ua="--redo";const Va="--undo";var e={};const O=Array.isArray,Ya=l,a=t=>O(t)?t.slice():Object.assign({},t),$a=(t,$)=>(e,o)=>(e=a(e),e[t]=$?$(e[t],o):o,e),D=t=>O(t)?t:Ya(t)?t.length>0?t.split("."):[]:null!=t?[t]:[];const R=t=>{const $=D(t);let[e,o,r,n]=$;switch($.length){case 0:return t=>t;case 1:return t=>null!=t?t[e]:void 0;case 2:return t=>null!=t&&null!=(t=t[e])?t[o]:void 0;case 3:return t=>null!=t&&null!=(t=t[e])&&null!=(t=t[o])?t[r]:void 0;case 4:return t=>null!=t&&null!=(t=t[e])&&null!=(t=t[o])&&null!=(t=t[r])?t[n]:void 0;default:return t=>{const e=$.length-1;let o=t;for(let r=0;null!=o&&r<=e;r++)o=o[$[r]];return o};}};const E=t=>{const $=D(t);let[e,o,r,n]=$;switch($.length){case 0:return(t,$)=>$;case 1:return(t,$)=>(t=a(t),t[e]=$,t);case 2:return(t,$)=>{let r;return(t=a(t))[e]=r=a(t[e]),r[o]=$,t};case 3:return(t,$)=>{let n,s;return(t=a(t))[e]=n=a(t[e]),n[o]=s=a(n[o]),s[r]=$,t};case 4:return(t,$)=>{let s,p,l;return(t=a(t))[e]=s=a(t[e]),s[o]=p=a(s[o]),p[r]=l=a(p[r]),l[n]=$,t};default:let t;for(let e=$.length;--e>=0;)t=$a($[e],t);return t;}};const T=(t,$,e)=>E($)(t,e);const A=(t,$,e,...o)=>E($)(t,e.apply(null,(o.unshift(R($)(t)),o)));let eb=0;const fb=()=>eb++;class gb{constructor(t,i,s,e=!0,r=j){this.parent=t,this.id=`view-${fb()}`,this.tx=s||(t=>t),this.path=D(i),this.isDirty=!0,this.isLazy=e;const h=R(this.path),$=this.parent.deref();this.unprocessed=$?h($):void 0,e||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),t.addWatch(this.id,(t,i,s)=>{const $=i?h(i):i,a=s?h(s):s;r(a,$)||(e?this.unprocessed=a:this.state=this.tx(a),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}var hb=e&&e.__decorate||function(e,t,r,i){var $,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)($=e[o])&&(s=(a<3?$(s):a>3?$(t,r,s):$(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s};let g=class{constructor(e,t){t&&!t(e)&&lb("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(T(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...r){return this.reset(A(this._value,e,t,...r))}addWatch(e,t){return!1}removeWatch(e){return!1}notifyWatches(e,t){}addView(e,t,r=!0){return new gb(this,e,t,r)}release(){return delete this._watches,delete this._value,!0}};g=hb([Ta],g),e.Atom=g,e.Atom=g;const z=Na,X=ma,b=M;class mb{constructor(t,e){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),t&&this.addHandlers(t),e&&this.addEffects(e)}addBuiltIns(){this.addEffects({[Oa]:[t=>this.dispatch(t),-999],[Pa]:[([t,e,r,s])=>{const i=this.effects[t];if(i){const t=i(e,this);qb(t)?t.then(t=>this.dispatch([r,t])).catch(t=>this.dispatch([s,t])):console.warn("async effect did not return Promise")}else console.warn(`skipping invalid async effect: ${t}`)},-999],[Ra]:[([t,e])=>new Promise(r=>setTimeout(()=>r(e),t)),1e3],[Sa]:[t=>fetch(t).then(t=>{if(!t.ok)throw new Error(t.statusText);return t}),1e3]})}addHandler(t,e){const r=f(e)?e.map(Z):C(e)?[{pre:e}]:[e];r.length>0?(this.handlers[t]&&(this.removeHandler(t),console.warn(`overriding handler for ID: ${t}`)),this.handlers[t]=r):I(`no handlers in spec for ID: ${t}`)}addHandlers(t){for(let e in t)this.addHandler(e,t[e])}addEffect(t,e,r=1){this.effects[t]&&(this.removeEffect(t),console.warn(`overriding effect for ID: ${t}`)),this.effects[t]=e;const s=[t,r],i=this.priorities;for(let $=0;$<i.length;$++)if(s[1]<i[$][1])return void i.splice($,0,s);i.push(s)}addEffects(t){for(let e in t){const r=t[e];f(r)?this.addEffect(e,r[0],r[1]):this.addEffect(e,r)}}instrumentWith(t,e){const r=t.map(Z),s=this.handlers;for(let i of e||Object.keys(s)){const t=s[i];t&&(s[i]=r.concat(t))}}removeHandler(t){delete this.handlers[t]}removeHandlers(t){for(let e of t)this.removeHandler(e)}removeEffect(t){delete this.effects[t];const e=this.priorities;for(let r=e.length-1;r>=0;r--)if(t===e[r][0])return void e.splice(r,1)}removeEffects(t){for(let e of t)this.removeEffect(e)}context(){return this.currCtx}dispatch(...t){this.eventQueue.push(...t)}dispatchNow(...t){(this.currQueue||this.eventQueue).push(...t)}dispatchLater(t,e=17){setTimeout(()=>this.dispatch(t),e)}processQueue(t){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=t||{};for(let e of this.currQueue)this.processEvent(t,e);return this.currQueue=this.currCtx=void 0,this.processEffects(t),!0}return!1}processEvent(t,e){const r=this.handlers[e[0]];if(!r)return void console.warn(`missing handler for event type: ${e[0].toString()}`);const s=r.length-1;let i=!1;for(let $=0;$<=s&&!t[z];$++){const s=r[$];s.pre&&this.mergeEffects(t,s.pre(t[b],e,this,t)),i=i||!!s.post}if(i)for(let $=s;$>=0&&!t[z];$--){const s=r[$];s.post&&this.mergeEffects(t,s.post(t[b],e,this,t))}}processEffects(t){const e=this.effects;for(let r of this.priorities){const s=r[0],i=t[s];if(void 0!==i){const r=e[s];if(s!==b)for(let e of i)r(e,this,t);else r(i,this,t)}}}mergeEffects(t,e){if(e)for(let r in e){const s=e[r];if(null!=s)if(r===b||r===z)t[r]=s;else if(r===X){if(f(s[0]))for(let t of s)t&&this.dispatchNow(t);else this.dispatchNow(s);}else if(t[r]||(t[r]=[]),f(s[0]))for(let e of s)void 0!==e&&t[r].push(e);else t[r].push(s)}}}class nb extends mb{constructor(t,e,r){super(e,r),this.state=t||new g({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[i]:(t,[e,[r,s]])=>({[b]:T(t,r,s)}),[rc]:(t,[e,[r,s,...i]])=>({[b]:A(t,r,s,...i)}),[Ma]:(t,[e,r])=>({[b]:A(t,r,t=>!t)}),[Va]:$("undo"),[Ua]:$("redo")}),this.addEffects({[b]:[t=>this.state.reset(t),-1e3]})}processQueue(t){if(this.eventQueue.length>0){const e=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=Object.assign({},t,{[b]:e});for(let r of this.currQueue)this.processEvent(t,r);return this.currQueue=this.currCtx=void 0,this.processEffects(t),this.state.deref()!==e}return!1}}const Z=t=>C(t)?{pre:t}:t,$=t=>(e,[r,s],i,$)=>{let o=s?s[0]:"history";if(F($[o],t)){const e=$[o][t]();return{[b]:i.state.deref(),[X]:s?void 0!==e?s[1]:s[2]:void 0}}console.warn("no history in context")};const _=e=>()=>({[ma]:e});const rb=(e,$)=>{const t=E(e);return(e,[r,o])=>({[M]:t(e,$?$(o):o)})};const h="route-changed";var n={};var ub=n&&n.__decorate||function(t,e,r,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var n=t.length-1;n>=0;n--)(o=t[n])&&(s=(a<3?o(s):a>3?o(e,r,s):o(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s};let r=class{constructor(t){t.authenticator=t.authenticator||((t,e,r)=>({id:t.id,title:t.title,params:r})),t.prefix=void 0===t.prefix?"/":t.prefix,t.separator=t.separator||"/",this.config=t}addListener(t,e,r){return!1}removeListener(t,e,r){return!1}notify(t){}start(){if(this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.current={id:t.id,title:t.title,params:{}},this.notify({id:h,value:this.current})}}route(t){"#"===t.charAt(0)&&(t=t.substr(1)),t=t.substr(this.config.prefix.length);const e=this.config.routes,r=t.split(this.config.separator);let i;for(let o=0,a=e.length;o<a;o++){const t=e[o],a=this.matchRoute(r,t);if(a){i=a;break}}if(!i){if(!this.handleRouteFailure())return;const t=this.routeForID(this.config.defaultRouteID);i={id:t.id,title:t.title,params:{}}}return j(i,this.current)||(this.current=i,this.notify({id:h,value:i})),i}format(...t){let e,[r,i,o]=t;switch(t.length){case 3:e={id:r,params:i};break;case 2:l(r)?e={id:r,params:i}:(o=i,e=r);break;case 1:e=l(r)?{id:r}:r;break;default:y(t.length);}const a=this.routeForID(e.id);if(a){const t=e.params||{};return(o?"#":"")+this.config.prefix+a.match.map(e=>"?"===e.charAt(0)?null!=(e=t[e.substr(1)])?e:"NULL":e).join(this.config.separator)}I(`invalid route ID: ${e.id.toString()}`)}routeForID(t){return this.config.routes.find(e=>e.id===t)}matchRoute(t,e){const r=e.match,i=r.length;if(t.length===i){const o={};for(let e=0;e<i;e++){const i=r[e];if("?"===i.charAt(0))o[i.substr(1)]=t[e];else if(t[e]!==i)return}if(e.validate&&!this.validateRouteParams(o,e.validate))return;return e.auth?this.config.authenticator(e,t,o):{id:e.id,title:e.title,params:o}}}validateRouteParams(t,e){for(let r in e)if(void 0!==t[r]){const i=e[r];if(i.coerce&&(t[r]=i.coerce(t[r])),i.check&&!i.check(t[r]))return!1}return!0}handleRouteFailure(){return!0}};r=ub([Ka],r),n.BasicRouter=r,n.BasicRouter=r;class wb extends r{constructor(t){super(t),this.useFragment=!1!==t.useFragment}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.route(this.format({id:t.id,title:t.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(t,e=!0){const r=this.current,i=super.route(t);return j(i,r)||(this.currentPath=this.format(i),e&&history.pushState(this.currentPath,i.title||window.document.title||"",this.currentPath)),i}routeTo(t){this.useFragment&&(location.hash=t),this.route(t)}format(...t){let e;switch(t.length){case 2:e={id:t[0],params:t[1]};break;case 1:e=l(t[0])?{id:t[0]}:t[0];break;default:y(t.length);}return super.format(e,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(t=>{this.route(t.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(t=>{if(!this.ignoreHashChange){const e=t.newURL.substr(t.newURL.indexOf("#"));e!==this.currentPath&&this.route(e,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}}var xb,yb,o,J;(function($){$.INIT="init",$.ROUTE_TO="route-to"})(o||(xb=o={},xb)),function($){$[$.ROUTE_TO=0]="ROUTE_TO"}(J||(yb=J={},yb));function*Bb($,e){const r=$([null,null,($,e)=>e])[2];for(let t of e){let $=r(k,t);if(K($))return void(($=ha($.deref()))!==k&&(yield $));$!==k&&(yield $)}}class fa{constructor(e){this.value=e}deref(){return this.value}}const K=e=>e instanceof fa;const ha=e=>e instanceof fa?e.deref():e;function ia(...e){let $,r;switch(e.length){case 3:r=e[2],$=e[1];break;case 2:r=e[1];break;default:y(e.length);}const u=e[0],t=u[0],c=u[1],o=u[2];if($=null==$?t():$,F(r,"$reduce"))$=r.$reduce(o,$);else if(kb(r)){for(let i=0,d=r.length;i<d;i++)if($=o($,r[i]),K($)){$=$.deref();break}}else for(let i of r)if($=o($,i),K($)){$=$.deref();break}return ha(c($))}const Gb=(e,$)=>[e,e=>e,$];function ja(...e){let r,$;switch(e.length){case 4:$=e[3],r=e[2];break;case 3:$=e[2];break;case 2:return s(r=>ja(e[0],e[1],r));default:y(e.length);}return ia(e[0](e[1]),r,$)}function s(t,r){return r?Bb(s(t),r):r=>{const $=r[2];return Jb(r,(r,e)=>$(r,t(e)))}}const Jb=($,o)=>[$[0],$[1],o];function la($){return $?ia(la(),$):Gb(()=>new Object,($,[e,r])=>($[e]=r,$))}function*Lb(r){for(let $ in r)r.hasOwnProperty($)&&(yield[$,r[$]])}const Mb=($,t,f)=>f!==t?($-t)/(f-t):0;const Nb=($,t,f,o,l)=>o+(l-o)*Mb($,t,f);const Ob={app:{class:"font-sans font-normal text-sm text-white h-full w-full leading-normal no-debug-grid"},cover:{class:"px-6 pt-5 absolute h-full w-full"},logo:{class:"text-9xl font-indieflower text-green logo absolute right-12"},content:{outer:{class:"h-full w-full overflow-y-scroll absolute"},inner:{class:"content px-6 "}},post:{main:{class:"post"},img:{class:"block mb-2"},desc:{class:"text-right font-medium"}}};const Pb={scrollOffset:0};const Qb={route:"route",bgOpacity:["scrollOffset",o=>Nb(o,0,screen.height,0,1)]},Rb=o=>ja(s(([$,t])=>[$,f(t)?o.addView(t[0],t[1]):o.addView(t)]),la(),Lb(Qb));const L={HOME:{id:"home",match:["home"]}};const Tb={useFragment:!0,defaultRouteID:L.HOME.id,routes:Object.keys(L).map(o=>L[o])};const Ub={[h]:[rb("route"),_([i,["nav.visible",!1]])],[o.ROUTE_TO]:(o,[$,t])=>({[J.ROUTE_TO]:t}),[o.INIT]:_([i,["initialized",!0]])};const Vb=o=>({[J.ROUTE_TO]:([$,t])=>o.routeTo(o.format($,t))});var Wb={};Wb="WechatIMG431.da6260c3.jpeg";var Xb={};Xb="WechatIMG432.3e56cd5a.jpeg";var Yb={};Yb="WechatIMG433.76ba1e9f.jpeg";var Zb={};Zb="WechatIMG434.4f3c353d.jpeg";var $b={};$b="WechatIMG435.33ff255d.jpeg";var _b={};_b="WechatIMG436.5ad499a5.jpeg";var ac={};ac="WechatIMG437.51371152.jpeg";var bc={};bc="WechatIMG438.230fe614.jpeg";var cc=c(Wb);var dc=c(Xb);var ec=c(Yb);var fc=c(Zb);var gc=c($b);var hc=c(_b);var ic=c(ac);var jc=c(bc);const kc=[{url:cc.d,desc:"2019-07-01"},{url:dc.d,desc:"2019-07-01"},{url:ec.d,desc:"2019-07-01"},{url:fc.d,desc:"2019-07-01"},{url:gc.d,desc:"2019-07-01"},{url:hc.d,desc:"2019-07-01"},{url:ic.d,desc:"2019-07-01"},{url:jc.d,desc:"2019-07-01"}];const lc=({ui:$,views:r})=>["header",Object.assign({},$.cover,{style:{"background-color":`rgba(32,82,10,${r.bgOpacity.deref()})`}}),["div",$.logo,"haru"]],mc=({ui:$,bus:r})=>["div",Object.assign({},$.content.outer,{onscroll:$=>r.dispatch([i,["scrollOffset",$.target.scrollTop]])}),["div",$.content.inner,[oc]]],nc=({ui:$},r)=>["div",$.post.main,["img",Object.assign({src:r.url},$.post.img)],["div",$.post.desc,r.desc]],oc=({ui:$})=>["main",$.main,s($=>[nc,$],kc)],pc=({ui:$})=>["div",$.app,[lc],[mc]];const na=new g(Pb),B=new wb(Tb),t=new nb(na,Ub,Vb(B));B.addListener(h,$=>t.dispatch([h,$.value]));const ib={ui:Ob,views:Rb(na),bus:t};B.start(),t.dispatch([o.INIT]),Ja(({bus:$})=>$.processQueue()?[pc]:null,{ctx:ib});return{"9B6d":{}};});